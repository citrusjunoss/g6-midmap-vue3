

export const MockData = [{
    "id": 0,
    "nodeId": "root",
    "level": 2,
    "descr": "聚酯树脂粉末涂料的固化行为",
    "type": 3,
    "children": [
        {
            "id": 1,
            "nodeId": "文献类型",
            "level": 4,
            "descr": "文献类型",
            "type": 0,
            "children": [
                {
                    "id": 2,
                    "nodeId": "文献类型名称: 研究型论文",
                    "level": 6,
                    "descr": "文献类型名称: 研究型论文",
                    "type": 0,
                    "children": [],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 3,
                    "nodeId": "科研价值",
                    "level": 6,
                    "descr": "科研价值",
                    "type": 0,
                    "children": [
                        {
                            "id": 4,
                            "nodeId": "推动涂料行业进步",
                            "level": 8,
                            "descr": "推动涂料行业进步",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        },
                        {
                            "id": 5,
                            "nodeId": "提供固化行为理论支持",
                            "level": 8,
                            "descr": "提供固化行为理论支持",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        }
                    ],
                    "width": 200,
                    "padding": 10
                }
            ],
            "width": 200,
            "padding": 10
        },
        {
            "id": 6,
            "nodeId": "研究概述",
            "level": 4,
            "descr": "研究概述",
            "type": 0,
            "children": [
                {
                    "id": 7,
                    "nodeId": "研究对象: 聚酯树脂粉末涂料",
                    "level": 6,
                    "descr": "研究对象: 聚酯树脂粉末涂料",
                    "type": 0,
                    "children": [],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 8,
                    "nodeId": "研究目的: 确定固化动力学模型",
                    "level": 6,
                    "descr": "研究目的: 确定固化动力学模型",
                    "type": 0,
                    "children": [],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 9,
                    "nodeId": "研究价值",
                    "level": 6,
                    "descr": "研究价值",
                    "type": 0,
                    "children": [
                        {
                            "id": 10,
                            "nodeId": "产业意义: 新固化工艺优化方案",
                            "level": 8,
                            "descr": "产业意义: 新固化工艺优化方案",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        },
                        {
                            "id": 11,
                            "nodeId": "工业实用价值: 提升产品性能",
                            "level": 8,
                            "descr": "工业实用价值: 提升产品性能",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        }
                    ],
                    "width": 200,
                    "padding": 10
                }
            ],
            "width": 200,
            "padding": 10
        },
        {
            "id": 12,
            "nodeId": "实验方法",
            "level": 4,
            "descr": "实验方法",
            "type": 0,
            "children": [
                {
                    "id": 13,
                    "nodeId": "自变量",
                    "level": 6,
                    "descr": "自变量",
                    "type": 0,
                    "children": [
                        {
                            "id": 14,
                            "nodeId": "固化剂TGIC添加比例: 3%, 6%, 9%",
                            "level": 8,
                            "descr": "固化剂TGIC添加比例: 3%, 6%, 9%",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        }
                    ],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 15,
                    "nodeId": "因变量",
                    "level": 6,
                    "descr": "因变量",
                    "type": 0,
                    "children": [
                        {
                            "id": 16,
                            "nodeId": "放热峰位置",
                            "level": 8,
                            "descr": "放热峰位置",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        },
                        {
                            "id": 17,
                            "nodeId": "固化度变化1",
                            "level": 8,
                            "descr": "固化度变化1",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        }
                    ],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 18,
                    "nodeId": "控制变量",
                    "level": 6,
                    "descr": "控制变量",
                    "type": 0,
                    "children": [
                        {
                            "id": 19,
                            "nodeId": "升温速率",
                            "level": 8,
                            "descr": "升温速率",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        },
                        {
                            "id": 20,
                            "nodeId": "实验环境",
                            "level": 8,
                            "descr": "实验环境",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        }
                    ],
                    "width": 200,
                    "padding": 10
                }
            ],
            "width": 200,
            "padding": 10
        },
        {
            "id": 21,
            "nodeId": "研究结论1",
            "level": 4,
            "descr": "研究结论1",
            "type": 0,
            "children": [
                {
                    "id": 22,
                    "nodeId": "实验结论",
                    "level": 6,
                    "descr": "实验结论",
                    "type": 0,
                    "children": [
                        {
                            "id": 23,
                            "nodeId": "放热峰幅度增强",
                            "level": 8,
                            "descr": "放热峰幅度增强",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        },
                        {
                            "id": 24,
                            "nodeId": "固化度变化",
                            "level": 8,
                            "descr": "固化度变化",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        }
                    ],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 25,
                    "nodeId": "研究结论",
                    "level": 6,
                    "descr": "研究结论",
                    "type": 0,
                    "children": [
                        {
                            "id": 26,
                            "nodeId": "动力学方程: ",
                            "level": 8,
                            "descr": "动力学方程: ",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        },
                        {
                            "id": 27,
                            "nodeId": "最佳固化剂用量: 7%",
                            "level": 8,
                            "descr": "最佳固化剂用量: 7%",
                            "type": 0,
                            "children": [],
                            "width": 200,
                            "padding": 10
                        }
                    ],
                    "width": 200,
                    "padding": 10
                }
            ],
            "width": 200,
            "padding": 10
        },
        {
            "id": 28,
            "nodeId": "研究成果",
            "level": 4,
            "descr": "研究成果",
            "type": 0,
            "children": [
                {
                    "id": 29,
                    "nodeId": "成功建立模型",
                    "level": 6,
                    "descr": "成功建立模型",
                    "type": 0,
                    "children": [],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 30,
                    "nodeId": "指导实际应用",
                    "level": 6,
                    "descr": "指导实际应用",
                    "type": 0,
                    "children": [],
                    "width": 200,
                    "padding": 10
                }
            ],
            "width": 200,
            "padding": 10
        },
        {
            "id": 31,
            "nodeId": "研究不足",
            "level": 4,
            "descr": "研究不足",
            "type": 0,
            "children": [
                {
                    "id": 32,
                    "nodeId": "实验室环境局限性",
                    "level": 6,
                    "descr": "实验室环境局限性",
                    "type": 0,
                    "children": [],
                    "width": 200,
                    "padding": 10
                },
                {
                    "id": 33,
                    "nodeId": "未来研究方向",
                    "level": 6,
                    "descr": "未来研究方向",
                    "type": 0,
                    "children": [],
                    "width": 200,
                    "padding": 10
                }
            ],
            "width": 200,
            "padding": 10
        }
    ],
    "width": 200,
    "padding": 10
}]

/**
 * @description 过滤树
 * @param tree any
 * @param cb any
 * @returns any
 */
function filterList(tree: any, cb: (node: any, deep: number) => any) {
    const newTree = JSON.parse(JSON.stringify(tree));
    /**
     * @description  递归函数来处理树结构
     * @param node 节点
     * @param deep xx
     * @returns xx
     */
    function processTree(node: any, deep = 0) {
      if (!node) return null;
      // 添加 name 字段并删除 desc 字段
      const newNode = cb(node, deep)
  
      // 递归处理子节点
      if (newNode.children && newNode.children.length > 0) {
        newNode.children = newNode.children.map((item: any) => processTree(item, deep + 1)).filter(Boolean);
      }
  
      return newNode;
    }
  
    return newTree.map(processTree).filter(Boolean);
}
  


export const MockDataPure = filterList(MockData, (node: any, deep: number) => {
    return  {
        id: `${node.id}`,
        name: node.descr,
        data: {
            name: node.descr,
            level: deep,
        },
        level: deep,
        children: node.children
    }
})
